<?php/*Класс служит для хранения глобальных данных и обеспечивает доступ к ним.Получает и хранит ссылку на БД*/class class_Registry{	private $values = array();	private $DB;	private static $instance;	private $configFile = "config.ini";	private function __construct(){	}	static function instance(){		if(!self::$instance){						self::$instance = new self();			self::$instance->init();		}		return self::$instance;	}	protected function init(){		$config = $_SERVER['DOCUMENT_ROOT'].DIRECTORY_SEPARATOR.self::$instance->configFile;		if(!file_exists($config)){			die("Не найден файл конфигурации.");		}		self::$instance->values = parse_ini_file($config);	}	protected function get($key){		if(isset($this->values[$key])){			return $this->values[$key];		}		return null;	}	protected function set($key, $val){		$this->values[$key] = $val;	}//------------------------------------------	static function getValue($key){		return self::instance()->get($key);	}	static function setValue($key,$val){		self::instance()->set($key,$val);	}//------------------------------------------	function getDB(){		if(!isset(self::instance()->DB)){			$base = new class_DBCreator();			self::instance()->DB = $base->getDatabase();		}		return self::instance()->DB;	}}?>